# üöÅ Drone Flight Predictor

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª–µ—Ç–∞ –ë–ü–õ–ê —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≥–∏–±—Ä–∏–¥–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞: –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å GRU + –∫–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Ç–æ—á–∫—É —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –ë–ü–õ–ê –Ω–∞ –æ—Å–Ω–æ–≤–µ 5 –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–æ—á–µ–∫. –°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- **GRU –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –Ω–µ–ª–∏–Ω–µ–π–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- **–ö–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ** –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ** –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏

## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **FastAPI** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π REST API —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
- **PyTorch GRU** - —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–∞—è –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
- **–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥** - –∫–æ–º–±–∏–Ω–∞—Ü–∏—è ML –∏ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è  
- **Docker deployment** - –ø–æ–ª–Ω–∞—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è** - —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
- **–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - –º–Ω–æ–≥–æ–ø–ª–∞–Ω–æ–≤—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
- **–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - API —Ç–µ—Å—Ç—ã –∏ –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
drone-flight-predictor/
‚îú‚îÄ‚îÄ app/                           # üöÄ –û—Å–Ω–æ–≤–Ω–æ–µ FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ api/                      # üîå API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ predict.py           # –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ core/                    # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ —É—Ç–∏–ª–∏—Ç—ã  
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py           # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.py            # –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ models/                  # üß† ML –º–æ–¥–µ–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ network.py          # GRU –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ predictor.py        # Wrapper –¥–ª—è –∏–Ω—Ñ–µ—Ä–µ–Ω—Å–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ GRU_With_Mix_Dataset_MaxNorm/  # –ü—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ schemas/                 # üìã Pydantic —Å—Ö–µ–º—ã
‚îÇ       ‚îî‚îÄ‚îÄ flight.py           # –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–µ—Ç–∞
‚îú‚îÄ‚îÄ data/                        # üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îú‚îÄ‚îÄ preprocess.py           # –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ processed/              # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–∞—Ç–∞—Å–µ—Ç—ã
‚îú‚îÄ‚îÄ training/                    # üéØ –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ train.py               # –°–∫—Ä–∏–ø—Ç –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ dataset.py             # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ tests/                       # üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ test_model.py          # –¢–µ—Å—Ç—ã –º–æ–¥–µ–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ test_predict.py        # –¢–µ—Å—Ç—ã API
‚îú‚îÄ‚îÄ scripts/                     # üîß –£—Ç–∏–ª–∏—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ evaluate.py            # –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ configs/                     # ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å—Ä–µ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ development.env        # Dev –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ production.env         # Prod –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚îú‚îÄ‚îÄ visualize_prediction_fixed.py # üìà –î–µ–º–æ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ demo.py                     # üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–µ–º–æ
‚îî‚îÄ‚îÄ docker-compose.yml          # üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1Ô∏è‚É£ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```powershell
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd drone-flight-predictor

# –°–æ–∑–¥–∞–µ–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv .venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ (Windows)
.venv\Scripts\Activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 4Ô∏è‚É£ –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞

```powershell
# –ó–∞–ø—É—Å–∫ FastAPI —Å–µ—Ä–≤–µ—Ä–∞
uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

# –ò–ª–∏ —á–µ—Ä–µ–∑ Python
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### 5Ô∏è‚É£ Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```powershell
# –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose
docker-compose up --build

# –ò–ª–∏ —Ç–æ–ª—å–∫–æ —Å–±–æ—Ä–∫–∞
docker build -t drone-predictor .
docker run -p 8000:8000 drone-predictor
```

### 6Ô∏è‚É£ –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```powershell
# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –¥–µ–º–æ
python demo.py

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π
python visualize_prediction_fixed.py

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ API
python test_final_api.py

# –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
pytest tests/
```

## üîå API Endpoints

### üéØ POST `/predict/`

–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–∏ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ 5 –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ç–æ—á–µ–∫.

**üì• –ó–∞–ø—Ä–æ—Å:**
```json
{
  "points": [
    {"x": 0.0, "y": 0.0, "t": 0.0},
    {"x": 2.0, "y": 3.0, "t": 3.0},
    {"x": 4.0, "y": 4.0, "t": 4.0},
    {"x": 6.0, "y": 5.0, "t": 6.0},
    {"x": 7.0, "y": 8.0, "t": 9.0}
  ]
}
```

**üì§ –û—Ç–≤–µ—Ç:**
```json
{
  "x": 7.5,
  "y": 12.0,
  "t": 12.5
}
```

### üíö GET `/predict/health`

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞ –∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏.

**üì§ –û—Ç–≤–µ—Ç:**
```json
{
  "status": "healthy",
  "model_loaded": true
}
```

### üìö GET `/docs`

–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Swagger UI –¥–ª—è –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤.

### üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```python
import requests

# –ë–∞–∑–æ–≤—ã–π URL —Å–µ—Ä–≤–∏—Å–∞
url = "http://localhost:8000/predict/"

# –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
data = {
    "points": [
        {"x": 0, "y": 0, "t": 0},
        {"x": 1, "y": 1, "t": 1}, 
        {"x": 2, "y": 2, "t": 2},
        {"x": 3, "y": 3, "t": 3},
        {"x": 4, "y": 4, "t": 4}
    ]
}

# –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞
response = requests.post(url, json=data)
prediction = response.json()

print(f"–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞: x={prediction['x']:.2f}, y={prediction['y']:.2f}, t={prediction['t']:.2f}")
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```powershell
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
pytest tests/

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏
python tests/test_model.py

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API
python tests/test_predict.py

# –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç API
python test_final_api.py
```

## üìä –û—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–∏

```powershell
# –ü–æ–ª–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
python scripts/evaluate.py

# –ê–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –æ–±—É—á–µ–Ω–∏—è
# –ì—Ä–∞—Ñ–∏–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ training/evaluation_results.png
```

**–í—ã—Ö–æ–¥–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- MAE (Mean Absolute Error) –¥–ª—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç X, Y, T
- RMSE (Root Mean Square Error)
- –ì—Ä–∞—Ñ–∏–∫–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è "–∏—Å—Ç–∏–Ω–Ω—ã–µ vs –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ"
- –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

- **`configs/development.env`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **`configs/production.env`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è production
- **`configs/staging.env`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è staging
- **`training/config.yaml`** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏

### –ö–ª—é—á–µ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

```env
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–¥–µ–ª–∏
HIDDEN_SIZE=64              # –†–∞–∑–º–µ—Ä —Å–∫—Ä—ã—Ç–æ–≥–æ —Å–ª–æ—è GRU
NUM_LAYERS=2               # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–ª–æ–µ–≤ GRU  
MODEL_PATH=training/checkpoints/best.pt

# –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
MEAN=[0.0, 0.0, 0.0]      # –°—Ä–µ–¥–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
STD=[1.0, 1.0, 1.0]       # –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

# API –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
PROJECT_NAME=drone-flight-predictor
VERSION=1.0.0
DEVICE=cpu                 # cpu –∏–ª–∏ cuda
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ì–∏–±—Ä–∏–¥–Ω–∞—è –º–æ–¥–µ–ª—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è

1. **GRU –Ω–µ–π—Ä–æ–Ω–Ω–∞—è —Å–µ—Ç—å**
   - –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ 5 —Ç–æ—á–µ–∫ (x, y, t)
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: –º–Ω–æ–≥–æ—Å–ª–æ–π–Ω–∞—è GRU —Å dropout
   - –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ: –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Å–ª–µ–¥—É—é—â–µ–π —Ç–æ—á–∫–∏

2. **–ö–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**
   - –ê–Ω–∞–ª–∏–∑ —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ –ø–æ—Å–ª–µ–¥–Ω–∏–º —Ç–æ—á–∫–∞–º
   - –§–∏–∑–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —ç–∫—Å—Ç—Ä–∞–ø–æ–ª—è—Ü–∏—è —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
   - Fallback –≤ —Å–ª—É—á–∞–µ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ ML –º–æ–¥–µ–ª–∏

3. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ**
   - –í–∑–≤–µ—à–µ–Ω–Ω–∞—è –∫–æ–º–±–∏–Ω–∞—Ü–∏—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (70% –∫–∏–Ω–µ–º–∞—Ç–∏–∫–∞ + 30% ML)
   - –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–∏—Ç—É–∞—Ü–∏–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

```
–í—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏ ‚Üí –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è ‚Üí GRU –º–æ–¥–µ–ª—å ‚Üí –î–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
                     ‚Üì
              –ö–∏–Ω–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ ‚Üí –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Üí –§–∏–Ω–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ
```

## üìà –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:

### üéØ `visualize_prediction_fixed.py`

–°–æ–∑–¥–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—é —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ —Å 4 –≥—Ä–∞—Ñ–∏–∫–∞–º–∏:

![–ü—Ä–∏–º–µ—Ä –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏](trajectory_prediction.png)

1. **–¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è XY** - –¥–≤—É–º–µ—Ä–Ω–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è –ø–æ–ª–µ—Ç–∞
2. **X –≤–æ –≤—Ä–µ–º–µ–Ω–∏** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã X
3. **Y –≤–æ –≤—Ä–µ–º–µ–Ω–∏** - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã Y  
4. **–í—Ä–µ–º–µ–Ω–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –∞–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤

```powershell
python visualize_prediction_fixed.py
# –†–µ–∑—É–ª—å—Ç–∞—Ç: trajectory_prediction.png
```

### üìä –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

```
üöÅ === –ê–ù–ê–õ–ò–ó –ü–†–ï–î–°–ö–ê–ó–ê–ù–ò–Ø –¢–†–ê–ï–ö–¢–û–†–ò–ò –ë–ü–õ–ê ===

üìä –í—Ö–æ–¥–Ω—ã–µ —Ç–æ—á–∫–∏:
  –¢–æ—á–∫–∞ 1: X=  0, Y=  0, T=  0
  –¢–æ—á–∫–∞ 2: X=  2, Y=  3, T=  3
  –¢–æ—á–∫–∞ 3: X=  4, Y=  4, T=  4
  –¢–æ—á–∫–∞ 4: X=  6, Y=  5, T=  6
  –¢–æ—á–∫–∞ 5: X=  7, Y=  8, T=  9

üéØ –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω–∞—è —Ç–æ—á–∫–∞:
  X =    7.500 –º
  Y =   12.000 –º
  T =   12.500 —Å

üìà –ê–Ω–∞–ª–∏–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π:
  ŒîX =    0.500 –º (–æ—Ç –ø–æ—Å–ª–µ–¥–Ω–µ–π —Ç–æ—á–∫–∏)
  ŒîY =    4.000 –º
  ŒîT =    3.500 —Å
```

## üõ†Ô∏è –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–∏

**–ò–∑–º–µ–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –≤ `configs/development.env`:**

```env
HIDDEN_SIZE=128        # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
NUM_LAYERS=3          # –ë–æ–ª—å—à–µ —Å–ª–æ–µ–≤ –¥–ª—è –≥–ª—É–±–æ–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è
DROPOUT=0.3           # –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è
```

**–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–±—É—á–µ–Ω–∏—è –≤ `training/config.yaml`:**

```yaml
batch_size: 32
learning_rate: 0.001
epochs: 100
validation_split: 0.2
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è

- **`training/training_history.png`** - –≥—Ä–∞—Ñ–∏–∫–∏ loss
- **`training/evaluation_results.png`** - –º–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏
- **`training/trajectory_comparison.png`** - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–π

### –û—Ç–ª–∞–¥–∫–∞ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```powershell
# –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ logs/app.log
tail -f logs/app.log

# –î–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–∫–∞
python app/main.py --log-level debug
```

## üöÄ Production —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è

```powershell
# –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–æ –≤—Å–µ–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏
docker-compose up -d --build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f app
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

- **Health checks**: `/predict/health`
- **Metrics**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prometheus/Grafana
- **–õ–æ–≥–∏**: —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Å–±–æ—Ä —á–µ—Ä–µ–∑ ELK stack
- **Alerting**: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–±–æ—è—Ö –º–æ–¥–µ–ª–∏